<!-- main categoris -->

<section class="p-2">
  <div>
    <div class="row g-0">
      <div class="col-md-10">
        <div>
          <owl-carousel-o [options]="customOptionsmain">
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/slider-image-3.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/slider-image-2.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/blog-img-1.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/blog-img-2.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/slider-image-1.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
            <ng-template carouselSlide>
              <img
                src="../../../assets/images/banner-4.jpeg"
                class="w-100"
                height="300px"
                alt=""
              />
            </ng-template>
          </owl-carousel-o>
        </div>
      </div>
      <div class="col-md-2">
        <img
          src="../../../assets/images/grocery-banner-2.jpeg"
          class="w-100"
          height="150px"
          alt=""
        />
        <img
          src="../../../assets/images/grocery-banner.png"
          class="w-100"
          height="150px"
          alt=""
        />
      </div>
    </div>
  </div>
</section>

<!-- categories -->
<section class="m-2">
  <h2 class="text-main fw-bolder p-4">populer categories</h2>
  <owl-carousel-o [options]="customOptionscat">
    @for (cat of categoriesList; track cat._id) {
    <ng-template carouselSlide>
      <div class="" [routerLink]="['/catdetails',cat._id]">
        <img [src]="cat.image" class="w-100" height="250px" alt="" />
        <h3 class="text-main h6">{{ cat.name }}</h3>
      </div>
    </ng-template>
    }
  </owl-carousel-o>
</section>

<!--POPULER PRODUCT -->

<section class="p-3">
  <h2 class="text-center fw-bold text-main p-3">Popular Products</h2>

  <input [(ngModel)]="text" type="search" placeholder="search by name ....." class="form-control w-50 mx-auto my-2">
  <div class="row">
    @for (product of productList.slice(0 ,12) | search : text ; track product._id) {

    <div class="col-md-2 g-3">
      <div class="product p-2 "  >
        <div [routerLink]="['/details',product._id]">
            <img [src]="product.imageCover" class="w-100" [alt]="product.title" />
        <h3 class="small">{{ product.category.name }}</h3>
        <h4 class="h6 text-main">
          {{ product.title.split(" ", 2).join(" ") }}
        </h4>
        <div class="d-flex justify-content-between align-items-center">
          <span>{{ product.price }}</span>

          <div>
            @for (num of [1,2,3,4,5].slice(0,product.ratingsAverage); track
            $index) {
            <span><i class="fa fa-star rating-color"></i> </span>
            } @if (product.ratingsAverage%1!==0) {
            <span
              ><i class="fa-regular fa-star-half-stroke rating-color"></i
            ></span>
            }
            <span class="text-muted">{{ product.ratingsAverage }}</span>
          </div>
        </div>
        </div>

        <button (click)="addProductcart(product._id)" class="btn-main w-100">Add to cart</button>
      </div>
    </div>
    }
  </div>
</section>
