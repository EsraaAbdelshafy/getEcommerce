
<section class="bg-main-light shadow m-2  p-2 rounded-4">
    <h1 class="h3 text-main "> Register Now:</h1>
    <form [formGroup]="registerForm" (ngSubmit)="registerSubmit()">
        <div class="my-2">
            <label for="name">name</label>
        <input type="text" id="name" class="form-control " formControlName="name"  [ngClass]="{
            'is-valid': !registerForm.get('name')?.errors && (registerForm.get('name')?.touched ||registerForm.get('name')?.dirty),
            'is-invalid':registerForm.get('name')?.errors && (registerForm.get('name')?.touched ||registerForm.get('name')?.dirty) 
        }">
        @if (registerForm.get('name')?.errors && (registerForm.get('name')?.touched ||registerForm.get('name')?.dirty) ) 
        {
        <div class="alert alert-danger">
           
                @if (registerForm.get('name')?.getError('required')) {
                    <p>name is reguiered</p>
                }
                @else if (registerForm.get('name')?.getError('minlenth')) {
                    <p>the name should be more than 3 char</p>
                }
                @else if (registerForm.get('name')?.getError('maxlength')) {
                    <p>the name should less than 20 char</p>
                }
                
            
        </div>
    }
        </div>
        <div class="my-2">
            <label for="email">email</label>
        <input type="email" id="email" class="form-control" formControlName="email">
        @if (registerForm.get('email')?.errors && registerForm.get('email')?.touched) 
        {
        <div class="alert alert-danger">
           
                @if (registerForm.get('email')?.getError('required')) {
                    <p>email is reguiered</p>
                }
                @else if (registerForm.get('email')?.getError('email')) {
                    <p>enter valied email</p>
                }

        </div>
    }
        </div>
        
        <div class="my-2"><label for="phone">phone</label>
            <input type="tel" id="phone" class="form-control" formControlName="phone"></div>
            @if (registerForm.get('phone')?.errors && registerForm.get('phone')?.touched) 
            {
            <div class="alert alert-danger">
               
                    @if (registerForm.get('phone')?.getError('required')) {
                        <p>phone is reguiered</p>
                    }
                    @else if (registerForm.get('phone')?.getError('pattern')) {
                        <p>enter valied phone </p>
                    }

            </div>
        }
        <div class="my-2"><label for="password">password</label>
            <input type="password" id="password" class="form-control"formControlName="password">
            @if (registerForm.get('password')?.errors && registerForm.get('password')?.touched) 
            {
            <div class="alert alert-danger">
               
                    @if (registerForm.get('password')?.getError('required')) {
                        <p>password is reguiered</p>
                    }
                    @else if (registerForm.get('password')?.getError('pattern')) {
                        <p>enter valied password</p>
                    }
                  
                    
                
            </div>
        }
        </div>
       
       <div class="my-2"> 
        <label for="rePassword">rePassword</label>
        <input type="password" id="rePassword" class="form-control" formControlName="rePassword">
        
        @if (
            registerForm.getError('mismatch') && registerForm.get('rePassword')?.touched
        ) {
            <div class="alert alert-danger">
                <p>the confirmation password is incorrect</p>

            </div>
        }
       


</div>
 <button [disabled]="registerForm.invalid || isloading" type="submit" class="btn-main ms-auto d-flex">
    Register
    @if (isloading) {
        <span><i class="fas fa-spin fa-spinner"></i></span>
}

</button>
@if (msgSacces) {<p class="alert alert-danger m-0 w-50">{{msgSacces}}</p>}
@if ( msgErorr ) {
    <p class="alert alert-danger m-0 w-50">{{msgErorr}}</p>
}

    </form>
</section>